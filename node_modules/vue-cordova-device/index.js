"use strict";

exports.install = function (Vue, options) {

  // set global Vue.cordova object if it doesn't exist yet
  Vue.cordova = Vue.cordova || {};

  // default values
  Vue.cordova.device = {
    cordova: null,
    model: null,
    platform: null,
    uuid: null,
    version: null,
    manufacturer: null,
    isVirtual: null,
    serial: null
  };

  // deviceready event -> populate the object
  document.addEventListener("deviceready", function () {

    Object.keys(Vue.cordova.device).forEach(function (key) {
      if (typeof device[key] !== 'undefined') {
        Vue.cordova.device[key] = device[key];
      }
    });
  }, false);
};
